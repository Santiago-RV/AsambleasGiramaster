# Variables
RUN = npm run

# COlores para output
GREEN = \033[0;32m
YELLOW = \033[0;33m
RED = \033[0;31m
NC = \033[0m # No Color

# Comando por defecto (se ejecuta con solo 'make')
.DEFAULT_GOAL := help

## PHONY indica que no son archivos reales
.PHONY: install dev prod test clean

## Ayuda
help:
	@echo "$(GREEN)Comandos disponibles:$(NC)"
	@echo "  $(YELLOW)make install$(NC)    - Instalar dependencias"
	@echo "  $(YELLOW)make dev$(NC)        - Ejecutar servidor de desarrollo"
	@echo "  $(YELLOW)make prod$(NC)       - Ejecutar servidor de producci√≥n"
	@echo "  $(YELLOW)make lint$(NC)       - Verificar c√≥digo"
	@echo "  $(YELLOW)make test$(NC)       - Ejecutar tests"
	@echo "  $(YELLOW)make clean$(NC)      - Limpiar archivos temporales"

install:
	@echo "$(YELLOW)üì¶ Instalando dependencias...$(NC)"
	$(RUN) install
	@echo "$(GREEN)‚úÖ Dependencias instaladas$(NC)"

dev:
	@echo "$(GREEN)üöÄ Iniciando servidor de desarrollo...$(NC)"
	$(RUN) dev

prod:
	@echo "$(YELLOW)üöÄ Iniciando servidor de producci√≥n...$(NC)"
	$(RUN) build
	$(RUN) preview

test:
	@echo "$(GREEN)üß™ Ejecutando tests...$(NC)"
	$(RUN) test

lint:
	@echo "$(GREEN)üîç Verificando c√≥digo...$(NC)"
	$(RUN) lint
	@echo "$(GREEN)‚úÖ C√≥digo verificado$(NC)"

clean:
	@echo "$(YELLOW)üßπ Limpiando archivos temporales...$(NC)"
	$(RUN) clean
	rm -rf dist/
	rm -rf .vite/
	rm -rf node_modules/
	@echo "$(GREEN)‚úÖ Archivos temporales limpiados$(NC)"